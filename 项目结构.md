# egui_basic_standalone 项目结构说明

本文件描述了 `egui_basic_standalone` 项目的主要目录和文件结构。

## 1. 根目录 (`egui_basic_standalone/`)

根目录包含项目配置文件、版本控制信息、文档以及编译输出目录。

*   **`Cargo.toml`**:
    *   Rust 项目的清单文件，由 Cargo（Rust 的构建系统和包管理器）使用。
    *   定义了项目的元数据，如名称 (`egui_basic_standalone`)、版本、作者、Rust Edition (`2021`) 等。
    *   声明了项目依赖项（dependencies），例如 `egui_graphs`, `egui`, `eframe`, `petgraph`, `fdg`, `rand`, `crossbeam-channel` 等，并指定了它们的版本和特性。
    *   还可能包含特定平台的依赖（如 `winapi` 用于 Windows）。

*   **`Cargo.lock`**:
    *   由 Cargo 自动生成和维护的文件，用于确保构建的可复现性。
    *   它精确记录了项目中所有直接和间接依赖项的具体版本号和来源。
    *   通常不应手动编辑此文件，但应将其提交到版本控制系统中。

*   **`.gitignore`**:
    *   Git 版本控制系统的配置文件，用于指定哪些文件或目录应该被 Git 忽略，不纳入版本控制。
    *   对于 Rust 项目，通常会忽略 `target/` 目录（包含编译产物）、某些 IDE 配置文件、日志文件等。

*   **`src/` (目录)**:
    *   存放项目所有 Rust 源代码的主要目录。详见下一节。

*   **`target/` (目录)**:
    *   Cargo 用于存放所有编译输出（如可执行文件、库文件、构建脚本输出、增量编译缓存等）的目录。
    *   此目录通常体积较大，并且其内容是根据源代码和 `Cargo.toml` 配置自动生成的，因此一般会被添加到 `.gitignore` 中，不纳入版本控制。

*   **`项目修改回顾.md`**:
    *   用户创建的 Markdown 文档，用于记录项目从早期阶段开始的修改和演进过程。
    *   对理解项目的开发历史和关键决策非常有帮助。

*   **`大作业报告.md`**:
    *   （由AI生成的）项目的大作业报告文档，详细描述了项目的背景、目标、技术选型、实现过程、遇到的挑战和总结。

## 2. `src/` 目录

`src/` 目录是存放项目核心 Rust 源代码的地方。

*   **`main.rs`**:
    *   对于一个二进制可执行文件项目 (binary crate) 来说，这是默认的主源文件入口。
    *   包含了应用程序的主要逻辑，包括：
        *   `main()` 函数：程序的启动点，通常调用 `eframe::run_native` 来初始化并运行 `egui` 应用。
        *   `BasicApp` 结构体定义：这是实现了 `eframe::App` trait 的核心应用结构体，它持有应用的所有状态数据（如图数据、模拟器状态、UI配置项等）。
        *   `impl BasicApp`：包含了 `BasicApp` 的关联函数和方法，如 `new()` (构造函数)、`reset_graph_and_simulation()` (重置图和模拟状态)、`populate_graph_data()` (填充图数据)、`initialize_egui_node_positions()` (初始化节点显示)、`sync_node_positions_to_egui()` 和 `sync_specific_graph()` (同步模拟器位置到显示)、`update_simulation()` (更新力导向模拟)、`handle_events()` (处理图交互事件)、以及新增的 `add_edge_between_selected_nodes()` 和 `remove_selected_edges_ui()` (动态编辑边的逻辑) 等。
        *   `impl eframe::App for BasicApp`：实现了 `eframe::App` trait 的核心方法，主要是 `update(&mut self, ctx: &egui::Context, frame: &mut eframe::Frame)`。此方法在每一帧被调用，负责处理用户输入、更新应用状态、以及使用 `egui` 构建和绘制用户界面（包括侧边栏配置面板和中央的图可视化区域）。
        *   辅助数据结构定义：如 `NodePayload`, `EdgePayload` (用于存储节点和边的自定义数据，包括标签和权重) 和 `AppGraph` (用于管理有向/无向图状态的枚举)。
        *   常量定义：如 `DEFAULT_NODE_COUNT`, `DEFAULT_EDGE_COUNT`。
        *   `use` 语句：导入所有需要的外部库和模块。

## 3. 未来即将会有的文件/目录

根据项目的进一步发展，还可能出现其他文件或目录：

*   **`assets/` (目录)**: 如果项目需要加载外部资源，如图片、配置文件等，通常会放在此目录下。
*   **`tests/` (目录)**: 如果编写了集成测试，会放在此目录下。
*   **`examples/` (目录)**: 如果项目本身也提供库功能并希望展示示例用法。
*   **`benches/` (目录)**: 如果编写了基准测试。

目前，`egui_basic_standalone` 项目结构相对简单，主要由根目录下的配置文件和 `src/main.rs` 构成。因为逻辑并不复杂，分成多个文件实现也是可以的，但目前来说均可。